function transformOverlay(e, a) {
  var n = e.innerWidth(), t = e.innerHeight(), s = $("#canvasWrap").height(), r = $("#gameeFrameMobile").width(), o = r / 6.8 / 100, i = s / 5.36 / 100;
  a && (o = Math.min(o, i), i = o);
  var l = Math.round((r - n) / 2);
  Math.round((s - t) / 2 - 50);
  e.css({
    "-webkit-transform": "translate(" + l + "px, 0) scale3d(" + o + ", " + i + ", 1)",
    transform: " translate(" + l + "px, 0) scale3d(" + o + ", " + i + ", 1)"
  })
}
function transformElement(e) {
  var a = e.innerWidth(), t = (e.innerHeight(), $("#canvasWrap").height()), s = $("#gameeFrameMobile").width(), r = s / 6.8 / 100, o = t / 5.36 / 100, i = Math.round((s - a) / 2);
  r = Math.min(r, o), o = r, e.css({
    "-webkit-transform": "translateX(" + i + "px) scale3d(" + r + ", " + o + ", 1)",
    transform: " translateX(" + i + "px) scale3d(" + r + ", " + o + ", 1)"
  })
}
function transformControls(e, a) {
  var n = $("#controller"), t = e.innerWidth(), s = e.innerHeight(), r = (t - 190) / 2.7 / 100, o = s / 2.7 / 100;
  a && (r = Math.min(r, o), o = r), n.css({
    "-webkit-transform": "scale3d(" + r + ", " + o + ", 1)",
    transform: "scale3d(" + r + ", " + o + ", 1)"
  })
}
function transformControls2(e, a) {
  var n = $("#restart"), t = $("#play"), s = $("#control-resume"), r = $(".gameLoading"), o = e.innerWidth(), i = e.innerHeight(), l = o / 2 / 100, c = i / 1.52 / 100;
  a && (l = Math.min(l, c), c = l), l >= 1 && (l = 1, c = 1), n.css({
    "-webkit-transform": "scale3d(" + l + ", " + c + ", 1)",
    transform: "scale3d(" + l + ", " + c + ", 1)"
  }), t.css({
    "-webkit-transform": "scale3d(" + l + ", " + c + ", 1)",
    transform: "scale3d(" + l + ", " + c + ", 1)"
  }), s.css({
    "-webkit-transform": "scale3d(" + l + ", " + c + ", 1)",
    transform: "scale3d(" + l + ", " + c + ", 1)"
  }), r.css({"-webkit-transform": "scale3d(" + l + ", " + c + ", 1)", transform: "scale3d(" + l + ", " + c + ", 1)"})
}
function resizeElements(e, a) {
  var n = document.getElementById("gameeFrameMobile"), t = document.getElementById("canvasWrap"), s = document.getElementById("controls"), r = $(".overlay .inner"), o = $("#overlay-end"), i = $("#overlay-start");
  r.css("max-width", e + "px"), o.css("height", a + "px"), i.css("height", a + "px"), n.width = e, n.height = e, n.style.width = e + "px", n.style.height = e + "px", t.style.height = e + "px", t.style.width = e + "px", s.style.height = a - e + "px", transformOverlay($("#overlay-start .transform"), !0), transformOverlay($("#overlay-end .transform"), !0), transformOverlay($("#ghostModeUI .transform"), !0), transformControls($("#controls"), !0), transformControls2($("#controls"), !0)
}
function preventDefault(e) {
  e = e || window.event, e.preventDefault && e.preventDefault(), e.returnValue = !1
}
function preventDefaultForScrollKeys(e) {
  return keys[e.keyCode] ? (preventDefault(e), !1) : void 0
}
function disableScroll() {
  window.addEventListener && window.addEventListener("DOMMouseScroll", preventDefault, !1), window.onwheel = preventDefault, window.onmousewheel = document.onmousewheel = preventDefault, window.ontouchmove = preventDefault, document.onkeydown = preventDefaultForScrollKeys, document.ontouchmove = function (e) {
    e.preventDefault()
  }, document.addEventListener("touchmove", function (e) {
    e.preventDefault()
  }, !1)
}
function enableScroll() {
  window.removeEventListener && window.removeEventListener("DOMMouseScroll", preventDefault, !1), window.onmousewheel = document.onmousewheel = null, window.onwheel = null, window.ontouchmove = null, document.onkeydown = null, document.ontouchmove = null
}
function defferedSimilarGames() {
  $(".thumb", ".relatedGames").each(function () {
    var e = $(this), a = new Image;
    a.src = e.attr("data-src"), a.onload = function () {
      e.css("background-image", "url(" + e.data("src") + ")")
    }
  })
}
function defferedImg(e) {
  $(".defImg", "" + e).each(function () {
    var e = $(this);
    e.hide(), e.attr("src", e.data("src")), e.on("load", function () {
      e.fadeIn(300), setTimeout(function () {
        e.parent().addClass("loaded")
      }, 305)
    })
  })
}
var Game = {}, GameeBridge = {}, gameeUI = {}, timer, loc = window.localization,url;
window.scrollerConfigHorizontal = {
  scroll: "horizontal",
  lockOnDirection: "vertical"
}, window.scrollerConfigRelatedGames = {
  scroll: "horizontal",
  lockOnDirection: "vertical"
}, window.scrollerConfigVertical = {scroll: "vertical", lockOnDirection: "horizontal"}, Pace.on("done", function () {
  gameeUI.gameLoaded(), resizeElements(window.innerWidth, window.innerHeight), $(".preloader").hide();
  var db = openDatabase('mydb', '1.0', 'OMIDDB', 2 * 1024 * 1024);
  db.transaction(function (tx) {
    tx.executeSql('SELECT d.val FROM MYGAME d WHERE d.name="score"', [], function (tx, results) {
      var len = results.rows.length, i, result = '';
      if (results.rows && results.rows.length != 0) {
        var a = results.rows.item(0).val.split(",");
        url = a[4];
        gameeUI.gameLoaded(), resizeElements(window.innerWidth, window.innerHeight), $(".preloader").hide();
        var e = $(".gameFrame"), a = $("#gameeFrameMobile");
        navigator.userAgent.toLowerCase();
        a.attr("src", a.data("src")), Game = gameeGame(e[0]), Game2 = gamee2Game(e[0], gameeUI), gameeUI.gameLoader.show(), gameeUI.playBtn.hide(), window.addEventListener("resize", function () {
          resizeElements(document.body.offsetWidth, document.body.offsetHeight)
        })
      }
    });
  });
}), "addEventListener" in document && document.addEventListener("DOMContentLoaded", function () {
  FastClick.attach(document.body)
}, !1), disableScroll(), $(window).on("load", function () {
  var e = $(".gameFrame"), a = $("#gameeFrameMobile");
  a.attr("src", a.data("src")), Game = gameeGame(e[0]), Game2 = gamee2Game(e[0], gameeUI), gameeUI.gameLoader.show(), gameeUI.playBtn.hide(), /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream && setTimeout(function () {
    Pace.stop()
  }, 2e3), $(document).on("click", ".rankings .seeAllBtn", function (e) {
    e.preventDefault(), gameeUI.fullRankings.show()
  }), $(".cRankingsBtn_close").on("click", function (e) {
    e.preventDefault(), gameeUI.fullRankings.hide()
  }), $(".subscribeDialog_close").on("click", function (e) {
    e.preventDefault(), gameeUI.subscribeDialog.hide(), gameeUI.sendMixpanelSubscribeAction("canceled")
  }), $(".beatenDialog_close").on("click", function (e) {
    e.preventDefault(), gameeUI.beatenDialog.hide()
  }), $(window).on("keypress", function (e) {
    (0 == e.keyCode || 32 == e.keyCode) && ("init" == gameeUI.currentState ? gameeUI.gameBegin() : "gameOver" == gameeUI.currentState && gameeUI.allowReplay && (gameeUI.gameRestart(), gameeUI.allowReplay = !1))
  }), $(".tab-link").on("click", function (e) {
    e.preventDefault();
    var a = $(this), n = a.data("href");
    $(".tab-link").removeClass("active"), a.addClass("active"), $(".tab").removeClass("visible"), $(".tab-" + n).addClass("visible"), ("subscribe" === n || "community" === n) && (0 === gameeUI.gameplayCount && window.scroller6.scrollTo(0, -58, 300), gameeUI.gameplayCount > 0 && window.scroller5.scrollTo(0, -58, 300)), "rankings" === n && (0 === gameeUI.gameplayCount && window.scroller6.scrollTo(0, 0, 300), gameeUI.gameplayCount > 0 && window.scroller5.scrollTo(0, 0, 300))
  }), defferedSimilarGames(), window.addEventListener("resize", function () {
    resizeElements(document.body.offsetWidth, document.body.offsetHeight)
  })
}), window.addEventListener("orientationchange", function () {
  setTimeout(function () {
    resizeElements(document.body.offsetWidth, document.body.offsetHeight)
  }, 500)
}, !1);
var mql = window.matchMedia("(orientation: portrait)");
mql.matches || $("#alert").removeClass("hide").addClass("visible"), mql.addListener(function (e) {
  e.matches ? (enableScroll(), setTimeout(function () {
    resizeElements(document.body.offsetWidth, document.body.offsetHeight), $("#alert").removeClass("visible").addClass("hide")
  }, 1e3), "paused" === gameeUI.currentState && gameeUI.gameResume()) : (disableScroll(), $("#alert").removeClass("hide").addClass("visible"), "playing" === gameeUI.currentState && gameeUI.gamePause())
}), GameeBridge = {
  resume: function () {
    isGamee2() ? Game2.resume() : Game.resume()
  }, start: function () {
    isGamee2() ? Game2.start(!1) : ""
  }, pause: function () {
    isGamee2() ? Game2.pause() : Game.pause()
  }, restart: function () {
    isGamee2() ? Game2.start(!1) : Game.restart()
  }
}, gameeUI = {
  currentState: "init",
  gameMode: "normal",
  user: null,
  anonymous_id: null,
  firstPlay: !0,
  gameHighscore: 0,
  highscoreBeat: !1,
  playTime: 0,
  score: 0,
  myRank: null,
  myPhoto: null,
  gameplayCount: 0,
  offerSubscriptionIn: 5,
  gameeVer: 1,
  onboardingComplete: null,
  changeRank: !1,
  totalCountOfBeatenUsers: 0,
  facebookUserNotSubscribed: null,
  viberUserNotSubscribed: null,
  allowReplay: !1,
  beatenUsers: [],
  allRankings: {},
  gameLoaded: function () {
    var e = $("html");
    $(".gameFrame");
    var db = openDatabase('mydb', '1.0', 'OMIDDB', 2 * 1024 * 1024);
    db.transaction(function (tx) {
      tx.executeSql('SELECT d.val FROM MYGAME d WHERE d.name="score"', [], function (tx, results) {
        var len = results.rows.length, i, result = '';
        if (results.rows && results.rows.length != 0) {
          var a = results.rows.item(0).val.split(",");
          url = a[4];
          if (a[0] == "false") {
            $(".hideHome").css("display", "none");
          }
        }
      });
    });
    e.addClass("loaded"), gameeUI.startOverlay.show()
  },
  init: function (e, a) {
    console.log("GameeJS - 2: init"), this.gameeVer = 2;
    var n = {
      controller: e.controller,
      capabilities: {saveState: void 0, replayData: void 0, socialData: void 0},
      sound: !0
    };
    a(n)
  },
  gameReady: function () {
    console.log("GameeJS 2: ready"), gameeUI.gameLoader.hide(), gameeUI.playBtn.show()
  },
  requestSocial: function () {
    console.log("GameeJS 2: Socials requested")
  },
  saveState: function () {
    console.log("GameeJS 2: save state")
  },
  gameStart: function () {
    console.log("Game Start"), gameeUI.currentState = "playing", gameeUI.timer.start(), gameeUI.updateScore(0), isGamee2() && GameeBridge.start(!1)
  },
  gameBegin: function () {
    gameeUI.startOverlay.hide(), gameeUI.playBtn.hide(), gameeUI.controls.show(), isGamee2() && gameeUI.gameStart()
  },
  gameOver: function () {
    var e = parseInt($(".totalScore").html());
    parseInt($(".highscore").html());
    gameeUI.currentState = "gameOver", gameeUI.timer.stop();
    var db = openDatabase('mydb', '1.0', 'OMIDDB', 2 * 1024 * 1024);
    db.transaction(function (tx) {
      tx.executeSql('SELECT d.val FROM MYGAME d WHERE d.name="score"', [], function (tx, results) {
        var len = results.rows.length, i, result = '';
        if (results.rows && results.rows.length != 0) {
          var a = results.rows.item(0).val.split(",");
          if (a[0] == "false" && a[3] === "0") {
            a[3] = e;
            tx.executeSql('UPDATE MYGAME SET val=? WHERE name= "score"', [a.join(",")], function (tx, results) {
              gameeUI.gameplayCount++, window.scroller5 && window.scroller5.scrollToTop(), $("#overlay-end .rankings, #overlay-end .ranks-wrap").removeClass("visible"), gameeUI.currentState = "gameOver", gameeUI.highscoreBeat = !1, gameeUI.onboardingComplete = !0, gameeUI.setScoreCustomText(""), gameeUI.overlay.show(), gameeUI.controls.hide(), $(".rankingsFailed").hide(), setTimeout(function () {
                gameeUI.restartBtn.show()
              }, 500), gameeUI.timer.stop(), $("#control-restart").css("display", "none"), $(".control-fs-restart").css("display", "none")
            });
          } else {
            gameeUI.gameplayCount++, window.scroller5 && window.scroller5.scrollToTop(), $("#overlay-end .rankings, #overlay-end .ranks-wrap").removeClass("visible"), gameeUI.currentState = "gameOver", gameeUI.highscoreBeat = !1, gameeUI.onboardingComplete = !0, gameeUI.setScoreCustomText(""), gameeUI.overlay.show(), gameeUI.controls.hide(), $(".rankingsFailed").hide(), setTimeout(function () {
              gameeUI.restartBtn.show()
            }, 500), gameeUI.saveScore(gameeUI.score), gameeUI.timer.stop(), gameeUI.submitRecord.send(a[1], e, a[2], a[5]);
          }
        }
      });
    });
  },
  gameRestart: function () {
    GameeBridge.restart(), gameeUI.overlay.hide(), gameeUI.controls.show(), gameeUI.restartBtn.hide(), gameeUI.timer.start(), resizeElements(window.innerWidth, window.innerHeight), $("#overlay-end .rankings .item").css("opacity", "0"), $(".ranks-wrap").removeClass("visible")
  },
  gamePause: function () {
    gameeUI.currentState = "paused", GameeBridge.pause(), gameeUI.overlayPause.show(), gameeUI.controls.hide(), gameeUI.resumeBtn.show(), $(".your_score").addClass("paused"), gameeUI.timer.pause()
  },
  gameResume: function () {
    gameeUI.currentState = "playing", gameeUI.overlayPause.hide(), gameeUI.timer.resume(), gameeUI.resumeBtn.hide(), gameeUI.controls.show(), $(".your_score").removeClass("paused"), GameeBridge.resume()
  },
  setController: function (e) {
    gameeUI.gameLoader.hide(), gameeUI.playBtn.show()
  },
  checkFbStatus: function (e) {
    gameeUI.myPhoto = e.photo
  },
  updateScore: function (e) {
    var a = $(".totalScore");
    gameeUI.score = e, a.html(parseInt(e)), gameeUI.checkRankStatus(e)
  },
  updateOverall: function (e) {
    gameGlobals.overallScore = e
  },
  updateHighscore: function (e) {
    gameeUI.score > gameeUI.gameHighscore && (gameeUI.gameHighscore = e, gameeUI.firstPlay = !1)
  },
  checkRankStatus: function (e) {
    var r, a = gameeUI.gameHighscore, n = $(".rankStatus"), t = $(".inner", ".rankStatus"), s = '<div class="highscore"><span class="ic"></span> ' + loc.highscoreBeat + "</div>", o = gameeUI.highscoreBeat, i = gameeUI.allRankings, l = i.length - 1;
    e > a && e > 0 && o === !1 && gameeUI.firstPlay === !1 && (t.html(s), r = !0, gameeUI.highscoreBeat = !0), gameeUI.firstPlay && (gameeUI.highscoreBeat = !0), 0 != Object.keys(i).length && e > i[l].score && (gameeUI.onboardingComplete ? gameeUI.highscoreBeat === !0 && gameeUI.myRank !== i[l].rank && (t.html('<div class="person"><img src="' + addProfilePicture(i[l].profile_picture) + '" class="pic" width="18" /> <span class="name">' + htmlspecialchars(i[l].username) + "</span> " + loc.beat + "</div>"), r = !0) : (t.html('<div class="person"><img src="' + addProfilePicture(i[l].profile_picture) + '" class="pic" width="18" /> <span class="name">' + htmlspecialchars(i[l].username) + "</span> " + loc.beat + "</div>"), r = !0), gameeUI.changeRank = !0, gameeUI.totalCountOfBeatenUsers++, gameeUI.beatenUsers.push(i[l]), i.splice(l)), r && (n.show(), setTimeout(function () {
      n.hide(), r = !1
    }, 2200))
  },
  setScoreCustomText: function (e) {
    $(".custom_text", ".your_score").html(e)
  },
  overlay: {
    show: function () {
      $(window).focus(), $("#canvasWrap").addClass("overlayVisible"), $("#overlay-end").addClass("visible"), $("#controls").addClass("visible")
    }, hide: function () {
      $("#canvasWrap").removeClass("overlayVisible"), $("#overlay-end").removeClass("visible"), $("#controls").removeClass("visible"), $("#gameeFrameMobile").focus()
    }
  },
  overlayPause: {
    show: function () {
      $("#canvasWrap").addClass("overlayVisible"), $("#overlay-pause").addClass("visible"), $("#controls").addClass("visible")
    }, hide: function () {
      $("#canvasWrap").removeClass("overlayVisible"), $("#overlay-pause").removeClass("visible"), $("#controls").removeClass("visible")
    }
  },
  submitRecord: {
    send: function (id, score, token, u) {
      var request = $.ajax({
        url: "https://dagala.cfapps.io/api/1/submitRecord",
        type: "POST",
        contentType: "application/json",
        headers: {"Authorization": token},
        data: JSON.stringify({gameId: id, score: score, user: u})
      });
      request.done(function (msg) {
        var db = openDatabase('mydb', '1.0', 'OMIDDB', 2 * 1024 * 1024);
        db.transaction(function (tx) {
          tx.executeSql('DELETE FROM MYGAME WHERE name="wasInGame"', [], function (tx, results) {
            tx.executeSql('INSERT INTO MYGAME (name, val) VALUES (?, ?)', ["wasInGame", true]);
          });
        });
      });
      request.fail(function (jqXHR, textStatus) {
        $(".alert").css("display", "block");
        setTimeout(function () {
          $(".alert").css("display", "none");
        }, 3000);
      });
    }
  },
  startOverlay: {
    show: function () {
      $(window).focus(), $("#canvasWrap").addClass("overlayVisible"), $("#overlay-start").addClass("visible"), $("#controls").addClass("visible")
    }, hide: function () {
      $("#canvasWrap").removeClass("overlayVisible"), $("#overlay-start").removeClass("visible"), $("#controls").removeClass("visible"), $("#overlay-start .ranks-wrap").removeClass("visible"), $("#gameeFrameMobile").focus()
    }
  },
  controls: {
    show: function () {
      $("#controller").addClass("visible")
    }, hide: function () {
      $("#controller").removeClass("visible")
    }
  },
  loading: {
    show: function (e) {
      e.show()
    }, hide: function (e) {
      e.hide()
    }
  },
  ranksLoading: {
    show: function () {
      $(".spinner", ".rankings").show()
    }, hide: function () {
      $(".spinner", ".rankings").hide()
    }
  },
  shareLoading: {
    show: function () {
      $(".challenge-friends").prepend('<span class="spinner"></span>')
    }, hide: function () {
      $(".spinner", ".challenge-friends").remove()
    }
  },
  gameLoader: {
    show: function () {
      $(".gameLoading").remove(), $("#controls .cWrap").append('<div class="gameLoading"><div class="icn"></div></div>'), $("#overlay-start .inner").append('<div class="gameLoading fs-loading"><div class="icn"></div></div>')
    }, hide: function () {
      $(".gameLoading").remove(), $("#overlay-start .rankings").addClass("loaded").removeClass("loading"), $("#overlay-start .ranks-wrap").addClass("loaded")
    }
  },
  restartBtn: {
    show: function () {
      $(".cLayout.restart, .control-fs-restart").addClass("visible")
    }, hide: function () {
      $(".cLayout.restart, .control-fs-restart").removeClass("visible")
    }
  },
  playBtn: {
    show: function () {
      $(".cLayout.play, .control-fs-play").addClass("visible")
    }, hide: function () {
      $(".cLayout.play, .control-fs-play").removeClass("visible")
    }
  },
  resumeBtn: {
    show: function () {
      $(".cLayout.resume, .control-fs-resume").addClass("visible")
    }, hide: function () {
      $(".cLayout.resume, .control-fs-resume").removeClass("visible")
    }
  },
  fullRankings: {
    show: function () {
      $("#overlay-standing .in").css("max-height", document.body.offsetHeight - 130 + "px"), $("#gameeMobile #overlay-standing").addClass("visible"), gameeUI.getFullRankings()
    }, hide: function () {
      disableScroll(), $("#gameeMobile #overlay-standing").removeClass("visible")
    }
  },
  subscribeDialog: {
    show: function () {
      $("#gameeMobile #overlay-subscribe").addClass("visible")
    }, hide: function () {
      $("#gameeMobile #overlay-subscribe").removeClass("visible")
    }
  },
  connectBtn: {
    show: function () {
      $(".fb-connect").show()
    }, hide: function () {
      $(".fb-connect").hide()
    }
  },
  rankings: {
    show: function () {
      $(".rankings").show()
    }, hide: function () {
      $(".rankings").hide()
    }, scrollAreaShow: function () {
      $(".scrollArea", ".rankings").show()
    }, scrollAreaHide: function () {
      $(".scrollArea", ".rankings").hide()
    }
  },
  beatenDialog: {
    show: function () {
      var t, e = Object.keys(gameeUI.beatenUsers).length, a = gameeUI.beatenUsers, n = "";
      $(".numberOfBeaten", "#overlay-beaten").html(gameeUI.totalCountOfBeatenUsers), $(".rankings .items .item", "#overlay-beaten").remove(), $("#gameeMobile #overlay-beaten").addClass("visible"), $(".myProfileAvatar", "#overlay-beaten").attr("src", gameeUI.myPhoto), $(".myRank", "#overlay-beaten").html(gameeUI.gameHighscore), $(".crown", "#overlay-beaten").addClass("show");
      for (var s in a)n += '<div class="item"><span class="emojiCrying">ðŸ˜­</span><div class="pic_wrap"><img data-src="' + addProfilePicture(a[s].profile_picture) + '" class="pic defImg" onerror="this.style.display=\'none\'" /></div><div class="username"><span>' + formatUsername(a[s].username) + '</span></div><div class="points">' + a[s].score + "</div></div>", 1 === a.length && (t = getFirstName(a[s].username));
      1 === gameeUI.totalCountOfBeatenUsers ? ($(".friendsText", "#overlay-beaten").html(loc.friend), $(".letWho", "#overlay-beaten").html()) : ($(".friendsText", "#overlay-beaten").html(loc.friends), $(".letWho", "#overlay-beaten").html("them")), $("#overlay-beaten .rankings .items").append(n), setTimeout(function () {
        defferedImg("#overlay-beaten")
      }, 100), e > 4 && (window.beatenScroller = new Scroller("#overlay-beaten .scrollArea", scrollerConfigHorizontal))
    }, hide: function () {
      $("#gameeMobile #overlay-beaten").removeClass("visible"), window.beatenScroller && (window.beatenScroller.destroy(), $("#overlay-beaten .scrollerWrap").removeClass("scroller-wrapper scroll-vertical"), $("#overlay-beaten .scrollerIn").removeClass("scroller"), $("#overlay-beaten .scrollerIn").removeAttr("style"))
    }
  },
  timer: {
    start: function () {
      timer = setInterval(function () {
        ++gameeUI.playTime
      }, 1e3)
    }, pause: function () {
      clearTimeout(timer)
    }, resume: function () {
      timer = setInterval(function () {
        ++gameeUI.playTime
      }, 1e3)
    }, stop: function () {
      clearTimeout(timer), gameeUI.playTime = 0
    }
  },
  sendMixpanel: function (e) {
    mixpanel.track("Game Played", {
      "game name": gameGlobals.game_name,
      "game genre": gameGlobals.game_genre,
      "game score": e,
      "game play time": gameeUI.playTime,
      source: gameGlobals.game_source,
      "web version": "mobile",
      mode: gameeUI.gameMode
    })
  },
  sendMixpanelShare: function (e, a, n, t) {
    mixpanel.track("Web Game Shared", {
      type: e,
      screen: a,
      "web version": n,
      "game name": gameGlobals.game_name,
      "button variant": t
    })
  },
  sendMixpanelSubscribeAction: function (e) {
    mixpanel.track("telegram Subscribe Dialog Shown", {action: e})
  },
  setGameOverRankings: function (e) {
    var a = e.result.ranking, n = 0 != Object.keys(a.beforeMe).length ? a.beforeMe : "", t = Object.keys(n).map(function (e) {
      return n[e]
    }), s = t.reverse(), r = 0 != Object.keys(a.afterMe).length ? a.afterMe : "", o = Object.keys(r).map(function (e) {
      return r[e]
    }), i = o.reverse(), l = a.me, c = "", d = "", m = "", u = "", g = "", f = "", v = "", p = Object.keys(n).length + Object.keys(r).length + 1, b = '<div class="item vs ' + onPlatform() + '"><span class="vsWrap"><span class="vsText">vs</span></span></div>', w = "";
    if (p > 4 && (w = '<div class="item seeAllBtn"><div class="pic_wrap"><img src="../detail/assets/svg/icn-see-all.svg" class="pic" /><img src="../detail/assets/svg/icn-see-all-active.svg" class="pic pressed" /></div><div class="username"><span>' + loc.seeAll + '</span></div><div class="points"></div></div>'), gameeUI.changeRank === !0 && p > 2 ? $("#overlay-end .rankings .items").addClass("rankChanged") : $("#overlay-end .rankings .items").removeClass("rankChanged"), $("#overlay-end .rankings .items .item").remove(), 0 != Object.keys(a.afterMe).length) {
      var y = 1, k = Object.keys(a.afterMe).length;
      for (var U in i) {
        var I = "";
        gameeUI.changeRank === !0 && 1 === l.rank && 2 === i[U].rank && (I = '<span class="crown hide">ðŸ‘‘</span>'), d += '<div class="item afterMeItem-' + k + '"><div class="pic_wrap">' + I + '<img data-src="' + addProfilePicture(i[U].profile_picture) + '" class="pic defImg" onerror="this.style.display=\'none\'" /></div><div class="username"><span>' + formatUsername(i[U].username) + '</span></div><div class="points">' + i[U].score + "</div></div>", y++, k--
      }
    }
    if (0 != Object.keys(a.me).length) {
      var C = "";
      1 === l.rank && (C = '<span class="crown show">ðŸ‘‘</span>'), meRankTpl = '<div class="item me"><div class="pic_wrap">' + C + '<img data-src="' + addProfilePicture(l.profile_picture) + '" class="pic defImg" onerror="this.style.display=\'none\'" /></div><div class="username"><span>You</span></div><div class="points">' + (l.score ? l.score : "-") + "</div></div>"
    }
    if (2 >= p ? ($(".rankings .headline").html(""), $(".rankings").addClass("vsMode"), 1 === p && (m = b), 0 === Object.keys(a.beforeMe).length && 1 === Object.keys(a.afterMe).length && (u = b, f = meRankTpl, meRankTpl = ""), 1 === Object.keys(a.beforeMe).length && 0 === Object.keys(a.afterMe).length && (g = b)) : ($(".rankings").removeClass("vsMode"), $(".rankings .headline").html(loc.leaderboards)), (1 === p || 3 === p) && (v += '<div class="item friend challenge-friends ' + onPlatform() + '"><div class="pic_wrap"><img src="../detail/assets/svg/find-friends-plus.svg" class="pic" /><img src="../detail/assets/svg/add_players_pressed.svg" class="pic pressed" /></div><div class="username"><span>Add players</span></div><div class="points">-</div></div>'), 0 != Object.keys(a.beforeMe).length) {
      var y = 0;
      for (var U in s) {
        var I = "";
        y++, 1 === s[U].rank && (I = '<span class="crown show">ðŸ‘‘</span>'), gameeUI.changeRank === !0 && 1 === l.rank && 2 === s[U].rank && (I = '<span class="crown hide">ðŸ‘‘</span>'), c += '<div class="item beforeMeItem-' + y + '"><div class="pic_wrap">' + I + '<img data-src="' + addProfilePicture(s[U].profile_picture) + '" class="pic defImg" onerror="this.style.display=\'none\'" /></div><div class="username"><span>' + formatUsername(s[U].username) + '</span></div><div class="points">' + s[U].score + "</div></div>"
      }
    }
    window.scroller5 && (window.scroller5.destroy(), $("#overlay-end .scrollerWrap").removeClass("scroller-wrapper scroll-vertical"), $("#overlay-end .scrollerIn").removeClass("scroller"), $("#overlay-end .scrollerIn").removeAttr("style")), window.scroller2 && window.scroller2.destroy(), $("#overlay-end .rankings .items").append(f + u + d + meRankTpl + g + c + m + v + w), p > 4 && (window.scroller2 = new Scroller("#overlay-end .rankings .scrollArea", scrollerConfigHorizontal)), window.scroller5 = new Scroller("#overlay-end .scrollerWrap", scrollerConfigVertical), window.scroller5._startMoveRAF(0), window.scroller5.scrollToTop(), window.scroller5.scrollToTop(), gameeUI.changeRank = !1, defferedImg("#overlay-end"), window.dispatchEvent(new Event("resize"))
  },
  setStartRankings: function (e) {
    var a = e.result.ranking, n = 0 != Object.keys(a.beforeMe).length ? a.beforeMe : "", t = Object.keys(n).map(function (e) {
      return n[e]
    }), s = t.reverse(), r = 0 != Object.keys(a.afterMe).length ? a.afterMe : "", o = Object.keys(r).map(function (e) {
      return r[e]
    }), l = o.reverse(), c = a.me, d = a.onboardingComplete, m = "", u = "", g = "", f = "", v = "", p = "", h = "", b = "", w = '<span class="crown show">ðŸ‘‘</span>', y = Object.keys(n).length + Object.keys(r).length + 1, k = '<div class="item vs ' + onPlatform() + '"><span class="vsWrap"><span class="vsText">vs</span></span></div>', U = "";
    if (gameeUI.onboardingComplete = d, y > 4 && (U = '<div class="item seeAllBtn"><div class="pic_wrap"><img src="../detail/assets/svg/icn-see-all.svg" class="pic" /><img src="../detail/assets/svg/icn-see-all-active.svg" class="pic pressed" /></div><div class="username"><span>' + loc.seeAll + '</span></div><div class="points"></div></div>'), $("#overlay-start .rankings .items .item").remove(), 0 != Object.keys(a.afterMe).length)for (var I in l)u += '<div class="item"><div class="pic_wrap"><img data-src="' + addProfilePicture(l[I].profile_picture) + '" class="pic defImg" onerror="this.style.display=\'none\'" /></div><div class="username"><span>' + formatUsername(l[I].username) + '</span></div><div class="points">' + l[I].score + "</div></div>";
    if (0 != Object.keys(a.me).length) {
      var _, S = "";
      c.score > 0 && ($(".userHighscore").html(parseInt(c.score)), gameeUI.gameHighscore = parseInt(c.score), gameeUI.firstPlay = !1, 1 === c.rank && (S = w), $(".myCurrentScore", ".rankings").html(c.score), $(".yourHighscore", ".rankings").show()), isFacebook() ? _ = gameeUI.myPhoto : c.profile_picture && (_ = c.profile_picture), meRankTpl = '<div class="item me"><div class="pic_wrap">' + S + '<img data-src="' + addProfilePicture(_) + '" class="pic defImg" onerror="this.style.display=\'none\'" /></div><div class="username"><span>You</span></div><div class="points">' + (c.score ? c.score : "-") + "</div></div>"
    }
    if (2 >= y ? ($(".rankings").addClass("vsMode"), $(".rankings .headline").html(""), 1 === y && (g = k), 0 === Object.keys(a.beforeMe).length && 1 === Object.keys(a.afterMe).length && (v = k, p = meRankTpl, meRankTpl = ""), 1 === Object.keys(a.beforeMe).length && 0 === Object.keys(a.afterMe).length && (f = k)) : ($(".rankings").removeClass("vsMode"), $(".rankings .headline").html(loc.leaderboards)), (1 === y || 3 === y) && (h += '<div class="item friend challenge-friends ' + onPlatform() + '"><div class="pic_wrap"><img src="../detail/assets/svg/find-friends-plus.svg" class="pic" /><img src="../detail/assets/svg/add_players_pressed.svg" class="pic pressed" /></div><div class="username"><span>Add players</span></div><div class="points">-</div></div>'), 0 != Object.keys(a.beforeMe).length) {
      d === !1 && (b = "steve"), i = 0;
      for (var I in s) {
        var D = "";
        i++, 1 === s[I].rank && (D = w), m += '<div class="item ' + b + '"><div class="pic_wrap">' + D + '<img data-src="' + addProfilePicture(s[I].profile_picture) + '" class="pic defImg" onerror="this.style.display=\'none\'" /></div><div class="username"><span>' + formatUsername(s[I].username) + '</span></div><div class="points">' + s[I].score + "</div></div>"
      }
    }
    $("#overlay-start .rankings .items").append(p + v + u + meRankTpl + f + m + g + h + U), y > 4 && (window.scroller1 = new Scroller("#overlay-start .rankings .scrollArea", scrollerConfigHorizontal)), window.scroller6 || (window.scroller6 = new Scroller("#overlay-start .scrollerWrap", scrollerConfigVertical)), defferedImg(".rankings"), transformOverlay($("#overlay-start .transform"), !0), window.dispatchEvent(new Event("resize"))
  },
  saveScore: function (e) {
    var a = window.location.pathname, n = gameeUI.user, t = (new Date).getTime(), s = $("#dataId").data(), r = CryptoJS.AES.encrypt(JSON.stringify({
      score: e,
      timestamp: t
    }), s.id, {format: CryptoJSAesJson}).toString(), o = {
      score: e,
      url: a,
      play_time: gameeUI.playTime,
      hash: r,
      username: n,
      anonymous_id: gameeUI.anonymous_id
    };
    if (isFacebook()) {
      var i = FacebookUserData.getUserData();
      o.app_scoped_user_id = i.app_scoped_user_id, o.user_id = i.user_id
    }
    gameeUI.sendScoreData(o)
  },
  sendScoreData: function (e) {
    var a = JSON.stringify(e), n = $(".rankingsFailed"), t = getBotsApiUrl() + "/set-web-score-qkfnsog26w7173c9pk7whg0iau7zwhdkfd7ft3tn";
    gameeUI.ranksLoading.show(), $("#overlay-end .rankings .items .item").remove(), $("#overlay-end .rankings, #overlay-end .ranks-wrap").addClass("visible"), $.ajax({
      type: "POST",
      url: t,
      data: a,
      success: function (e) {
        gameeUI.ranksLoading.hide(), isBot() && (isEmpty(e.result.ranking) || (gameeUI.setGameOverRankings(e), gameeUI.saveRankingsToObject(e))), "error" === e.status && n.show(), $(".this-share").addClass("visible")
      },
      error: function (e, a) {
        gameeUI.ranksLoading.hide(), n.show(), window.scroller5 || (window.scroller5 = new Scroller("#overlay-end .scrollerWrap", scrollerConfigVertical))
      },
      timeout: 1e4,
      dataType: "json",
      crossDomain: !0
    })
  },
  setFullRankings: function (e) {
    var a = e.result.ranking, n = null === e.result.myRank ? "0" : e.result.myRank;
    e.result.membersCount;
    if (Object.keys(a).length > 0) {
      for (var s in a) {
        var r = a[s].rank === n ? "You" : "", i = a[s].profile_picture;
        $("#overlay-standing .items").append('<div class="row ' + r + '"><div class="line"><div class="number">' + a[s].rank + '.</div><div class="pic_wrap"><div class="pic_in"><img data-src="' + addProfilePicture(i) + '" class="pic defImg" onerror="this.src=\'../detail/assets/png/avatar-placeholder.png\';" /></div></div><div class="name"><span>' + htmlspecialchars(a[s].username) + '</span></div><div class="points">' + a[s].score + "</div></div></div>")
      }
      window.fullRankScroller ? window.fullRankScroller.scrollToTop() : window.fullRankScroller = new Scroller("#overlay-standing .area", scrollerConfigVertical), defferedImg("#overlay-standing")
    }
  },
  saveRankingsToObject: function (e) {
    var a = e.result.ranking.beforeMe, n = Object.keys(a).map(function (e) {
      return a[e]
    }), t = null === e.result.ranking.me.rank ? "0" : e.result.ranking.me.rank;
    Object.keys(a).length > 0 && (gameeUI.allRankings = n, gameeUI.myRank = t)
  },
  getFullRankings: function () {
    var e = window.location.pathname, a = gameeUI.user, n = getBotsApiUrl() + "/api/game-url-ranking", t = $("#overlay-standing .spinner"), s = {url: escape(e)};
    null != gameeUI.anonymous_id && (a = ""), isFacebook() && (s.facebook_user_id = FacebookUserData.getUserData().app_scoped_user_id), isKik() && (s.username = a), $("#overlay-standing .items .row").remove(), gameeUI.loading.show(t), $.ajax({
      type: "GET",
      url: n,
      data: s,
      xhrFields: {withCredentials: !0},
      success: function (e) {
        setTimeout(function () {
          gameeUI.loading.hide(t), gameeUI.setFullRankings(e)
        }, 500)
      },
      beforeSend: function (e) {
        e.setRequestHeader("Authorization", "Basic " + btoa("web-api:1k2tnlowfvzfjursfhf523fuenc1guzwxfq8jgc8"))
      },
      error: function (e, a) {
        gameeUI.loading.hide(t)
      },
      timeout: 1e4,
      dataType: "json",
      crossDomain: !0
    })
  },
  getStats: function () {
    var e = window.location.pathname, a = gameeUI.user;
    gameeUI.ranksLoading.show(), isViber() && gameGlobals.facebookAccountLinked && (gameeUI.connectBtn.hide(), gameeUI.rankings.scrollAreaShow()), isViber() && !gameGlobals.facebookAccountLinked && gameeUI.rankings.scrollAreaHide();
    var n = {url: escape(e)};
    if (null != gameeUI.anonymous_id && (a = ""), isKik() && (n.username = a), isFacebook()) {
      var t = this;
      FacebookUserData.addAfterLoginCallback(function () {
        n.facebook_user_id = FacebookUserData.getUserData().app_scoped_user_id, t.checkFbStatus(FacebookUserData.getUserData()), FacebookUserData.isLoggedIn() ? t.getSurroundingRankings(n) : (gameeUI.connectBtn.show(), $("#overlay-start .ranks-wrap").addClass("visible"), $("#overlay-start .rankings, #overlay-start .this-share").hide())
      })
    } else this.getSurroundingRankings(n)
  },
  getSurroundingRankings: function (e) {
    var a = getBotsApiUrl() + "/api/game-url-surrounding-ranking", n = $(".rankingsFailed");
    gameeUI.ranksLoading.show(), $("#overlay-start .rankings, #overlay-start .ranks-wrap").addClass("visible"), $.ajax({
      type: "GET",
      url: a,
      data: e,
      success: function (e) {
        gameeUI.ranksLoading.hide(), "error" === e.status ? (n.show(), window.scroller6 || (window.scroller6 = new Scroller("#overlay-start .scrollerWrap", scrollerConfigVertical))) : e.result && !isEmpty(e.result.ranking) && (gameeUI.setStartRankings(e), isBot() && gameeUI.saveRankingsToObject(e))
      },
      xhrFields: {withCredentials: !0},
      beforeSend: function (e) {
        e.setRequestHeader("Authorization", "Basic " + btoa("web-api:1k2tnlowfvzfjursfhf523fuenc1guzwxfq8jgc8"))
      },
      error: function (e, a) {
        gameeUI.ranksLoading.hide(), n.show(), window.scroller6 || (window.scroller6 = new Scroller("#overlay-start .scrollerWrap", scrollerConfigVertical))
      },
      timeout: 1e4,
      crossDomain: !0
    })
  },
  kikPickFriends: function () {
    kik.pickUsers(function (e) {
      e && e.forEach(function (e) {
        kik.send(e.username, {
          title: "Let's play this game! ;)",
          text: "... " + gameGlobals.game_name + " " + window.location.href,
          pic: gameGlobals.game_img
        })
      })
    })
  }
};
var keys = {37: 1, 38: 1, 39: 1, 40: 1}, webviewProvider = function () {
  return /\/FBIOS/i.test(navigator.userAgent) === !0 ? "fb" : /Twitter for/i.test(navigator.userAgent) === !0 ? "tw" : /\/\/t.co\//i.test(document.referrer) === !0 ? "tw" : null
}();
$(".re-request-friends-permission").on("click", function (e) {
  e.preventDefault(), FacebookUserData.forceRelogin()
}), $(".action-fb-connect").on("click", function (e) {
  e.preventDefault(), FacebookUserData.tryLogin(function (e) {
    $.ajax({
      method: "PUT",
      url: getBotsApiUrl() + "/api/connect-facebook-account",
      data: JSON.stringify({accessToken: e.accessToken, gameUrl: gameGlobals.game_fullUrl}),
      xhrFields: {withCredentials: !0},
      beforeSend: function (e) {
        e.setRequestHeader("Authorization", "Basic " + btoa("web-api:ji8fe8xoy39ftgapvyn6c1c90r6gprp81s3o9i7o"))
      },
      success: function () {
        gameeUI.getStats(), gameeUI.connectBtn.hide()
      },
      crossDomain: !0
    })
  })
}), $(".action-fb-connect-web").on("click", function (e) {
  e.preventDefault(), FacebookUserData.forceConnect()
}), $(".pauseGame").on("click", function () {
  gameeUI.gamePause()
}), $("#control-restart, .control-fs-restart").on("click touchend", function (e) {
  e.preventDefault(), gameeUI.gameRestart()
}), $("#control-play, .control-fs-play").on("click touchend", function (e) {
  e.preventDefault(), gameeUI.gameBegin()
}), $("#control-resume, .control-fs-resume").on("click", function (e) {
  gameeUI.gameResume()
}), $(".challenge-friends, .challenge-btn").on("click", function (e) {
  var a = $(this).data("screen"), n = $(this).data("type"), t = $(this).data("version"), s = 1;
  gameeUI.sendMixpanelShare(n, a, t, s)
}), $(".joinGroupClicked").on("click", function (e) {
  var a = $(this).data("type");
  mixpanel.track("Web Join Group Clicked", {type: a})
}), $(".freeDownloadClicked").on("click", function (e) {
  var s, a = $(this).data("type"), n = "https://itunes.apple.com/app/id945638210", t = "https://play.google.com/store/apps/details?id=com.gameeapp.android.app";
  mixpanel.track("Web Get App Clicked", {type: a}), isIos() ? s = n : isAndroid() && (s = t), window.open(s), e.preventDefault()
}), $(".subscribeBotClicked").on("click", function (e) {
  var a = $(this).data("type");
  mixpanel.track("Web Subscribe Bot Clicked", {type: a})
}), $(".relatedGames .headline, .noTouchScrollUp").on("click", function (e) {
  e.preventDefault(), window.scroller5.scrollToBottom(150)
}), $(document).on("click", ".challenge-friends", function (e) {
  $(this).hasClass("friend") || (gameeUI.shareLoading.show(), setTimeout(function () {
    gameeUI.shareLoading.hide()
  }, 2500))
}), $(document).on("click", ".challenge-friends.on-telegram, .challenge-btn.on-telegram", function (e) {
  TelegramGameProxy.shareScore()
}), $(document).on("click", ".challenge-friends.on-kik, .challenge-btn.on-kik", function (e) {
  gameeUI.kikPickFriends()
}), $(document).on("click", ".challenge-friends.on-viber, .challenge-btn.on-viber", function (e) {
  var a = "https://3p3x.adj.st/?adjust_t=u783g1_kw9yml&adjust_fallback=https%3A%2F%2Fwww.viber.com%2F%3Futm_source%3DPartner%26utm_medium%3DSharebutton%26utm_campaign%3DDefualt&adjust_campaign=Sharebutton&adjust_deeplink=", n = "";
  n = gameeUI.gameHighscore > 0 ? "I scored " + gameeUI.gameHighscore + ". Try to beat me!" : "Can you beat me in " + gameGlobals.game_name + "?";
  var t = $("body").attr("data-viber-bot-service-id"), s = a + encodeURIComponent("viber://forward?text=" + encodeURIComponent(n + "\n\nTap to play " + gameGlobals.game_name + "\nðŸ‘‡ ðŸ‘‡ ðŸ‘‡ ðŸ‘‡ ðŸ‘‡\n\nviber://chatex?service=" + t + "&search=" + encodeURIComponent(gameGlobals.game_name)));
  window.open(s)
}), $(document).on("click", ".challenge-friends.on-fb, .challenge-btn.on-fb", function (e) {
  var a = $("body").attr("data-bot-deep-link-base"), n = {
    type: "game",
    code: gameGlobals.game_code,
    name: FacebookUserData.getUserData().facebookName,
    score: gameeUI.gameHighscore,
    gender: FacebookUserData.getUserData().gender,
    pageScopedUserId: FacebookUserData.getUserData().user_id,
    appScopedUserId: FacebookUserData.getUserData().app_scoped_user_id
  }, t = a + "?ref=" + encodeURIComponent(JSON.stringify(n)), s = {
    attachment: {
      type: "template",
      payload: {
        template_type: "generic",
        elements: [{
          title: "Can you beat me in " + gameGlobals.game_name,
          image_url: gameGlobals.game_img,
          subtitle: "My score is: " + n.score,
          default_action: {type: "web_url", url: t},
          buttons: [{type: "web_url", url: t, title: "â–¶ PLAY NOW"}]
        }]
      }
    }
  };
  MessengerExtensions.beginShareFlow(function () {
  }, function (e, a) {
    var n = $("body").data("facebook-bot-app-id"), t = gameGlobals.game_fullUrl;
    window.open("fb-messenger://share?link=" + encodeURIComponent(t) + "&app_id=" + encodeURIComponent(n))
  }, s, "broadcast")
}), $(document).on("click", ".challenge-friends.on-whatsapp, .challenge-btn.on-whatsapp", function (e) {
  var n, t, s, r, a = {
    gameId: gameGlobals.game_id,
    name: gameGlobals.game_name,
    score: gameeUI.gameHighscore,
    target: "whatsapp"
  }, o = JSON.stringify(a);
  n = document.createElement("a"), n.href = gameGlobals.game_fullUrl, t = n.origin, s = t + "/challenge/" + btoa(o), r = "Can you beat me in " + gameGlobals.game_name + "? My score is: " + gameeUI.gameHighscore + ". ", window.open("whatsapp://send?text=" + encodeURIComponent(r) + s)
});
var touchEventStart = "touchstart", touchEventEnd = "touchend";
$("html").hasClass("desktop") && (touchEventStart = "mousedown", touchEventEnd = "mouseup"), $("#control-oneButton").bind(touchEventStart, function (e) {
  Game.buttonButtonDown()
}), $("#control-oneButton").bind(touchEventEnd, function (e) {
  setTimeout(function () {
    Game.buttonButtonUp()
  }, 20)
}), $("#control-arrow-up").bind(touchEventStart, function (e) {
  Game.upButtonDown()
}), $("#control-arrow-up").bind(touchEventEnd, function (e) {
  setTimeout(function () {
    Game.upButtonUp()
  }, 20)
}), $("#control-arrow-down").bind(touchEventStart, function (e) {
  Game.downButtonDown()
}), $("#control-arrow-down").bind(touchEventEnd, function (e) {
  setTimeout(function () {
    Game.downButtonUp()
  }, 20)
}), $("#control-arrow-left").bind(touchEventStart, function (e) {
  Game.leftButtonDown()
}), $("#control-arrow-left").bind(touchEventEnd, function (e) {
  setTimeout(function () {
    Game.leftButtonUp()
  }, 20)
}), $("#control-arrow-right").bind(touchEventStart, function (e) {
  Game.rightButtonDown()
}), $("#control-arrow-right").bind(touchEventEnd, function (e) {
  setTimeout(function () {
    Game.rightButtonUp()
  }, 20)
}), $("#control-buttonA").bind(touchEventStart, function (e) {
  Game.aButtonDown()
}), $("#control-buttonA").bind(touchEventEnd, function (e) {
  setTimeout(function () {
    Game.aButtonUp()
  }, 20)
}), $("#control-buttonB").bind(touchEventStart, function (e) {
  Game.bButtonDown()
}), $("#control-buttonB").bind(touchEventEnd, function (e) {
  setTimeout(function () {
    Game.bButtonUp()
  }, 20)
}), $("#overlay-start .btn-reload").on("click", function (e) {
  var a = $(".rankingsFailed");
  a.hide(), gameeUI.ranksLoading.show(), gameeUI.getStats(), e.preventDefault()
}), $("#overlay-end .btn-reload").on("click", function (e) {
  var a = $(".rankingsFailed");
  a.hide(), gameeUI.ranksLoading.show(), gameeUI.saveScore(gameeUI.score), e.preventDefault()
}), $(".subscribe-btn.on-whatsapp, .subscribe-btn.on-kik").on("click", function (e) {
  isIos() && (window.location.href = "https://itunes.apple.com/us/app/gamee-play-with-your-friends/id945638210"), isAndroid() && (window.location.href = "market://details?id=com.gameeapp.android.app"), e.preventDefault()
}), $(".subscribe-btn", "#overlay-subscribe").on("click", function (e) {
  gameeUI.subscribeDialog.hide(), gameeUI.sendMixpanelSubscribeAction("clicked")
}), $(".challenge-friends", "#overlay-beaten").on("click", function (e) {
  gameeUI.beatenDialog.hide()
});
window.onbeforeunload = function (event) {
  window.location.replace(url);
};
function goHome() {
  window.location.replace(url);
}
function hideAlert() {
  $(".alert-danger").css("display", "none");
}
