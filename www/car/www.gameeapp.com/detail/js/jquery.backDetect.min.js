!function(a){var b={frameLoaded:0,frameTry:0,frameTime:0,frameDetect:null,frameSrc:null,frameCallBack:null,frameThis:null,frameNavigator:window.navigator.userAgent,frameDelay:0,frameDataSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};a.fn.backDetect=function(c,d){b.frameThis=this,b.frameCallBack=c,null!==d&&(b.frameDelay=d),setTimeout(function(){a('<iframe src="'+b.frameDataSrc+'?loading" style="display:none;" id="backDetectFrame" onload="jQuery.fn.frameInit();"></iframe>').appendTo(b.frameThis)},b.frameDelay)},a.fn.frameInit=function(){b.frameDetect=document.getElementById("backDetectFrame"),b.frameLoaded>1&&2==b.frameLoaded&&(b.frameCallBack.call(this),history.go(-1)),b.frameLoaded++,1==b.frameLoaded&&(b.frameTime=setTimeout(function(){jQuery.fn.setupFrames()},500))},a.fn.setupFrames=function(){clearTimeout(b.frameTime),b.frameSrc=b.frameDetect.src,1==b.frameLoaded&&b.frameSrc.indexOf("historyLoaded")==-1&&(b.frameDetect.src=b.frameDataSrc+"?historyLoaded")}}(jQuery);